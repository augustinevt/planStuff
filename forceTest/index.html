<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Force</title>
    <style>
      .node {
        fill: #ccc
        stroke: #fff;
        stroke-width: 2px;
      }
      .link {
        stroke: #777;
        stroke-width: 3px;
      }
    </style>
  </head>
  <body>
    <a href="force.html">force</a>
    <script src='http://d3js.org/d3.v3.min.js'></script>
    <script>

    var width = 640;
    var height = 480;


    var nodes = [
      { "x": 208.992345, "y": 273.053211 },
      { "x": 595.98896,  "y":  56.377057 },
      { "x": 319.568434, "y": 278.523637 },
      { "x": 214.494264, "y": 214.893585 },
      { "x": 482.664139, "y": 340.386773 },
      { "x":  84.078465, "y": 192.021902 },
      { "x": 196.952261, "y": 370.798667 },
      { "x": 107.358165, "y": 435.15643  },
      { "x": 401.168523, "y": 443.407779 },
      { "x": 508.368779, "y": 386.665811 },
      { "x": 355.93773,  "y": 460.158711 },
      { "x": 283.630624, "y":  87.898162 },
      { "x": 283.630624, "y":  87.898162 }
    ];

    var links = [
      { source: 0, target: 1 },
      { source: 0, target: 2 },
      { source: 0, target: 3 }
    ];

    var svg = d3.select('body').append('svg')
      .attr('width', width)
      .attr('height', height);

    var force = d3.layout.force()
      .size([width,height])
      .nodes(nodes)
      .links(links);

    force.linkDistance(width/2);

    var link = svg.selectAll('.link')
      .data(links)
      .enter()
      .append('line')
      .attr('stroke', 'red')
      .attr('class', 'link');

    var node = svg.selectAll('.node')
      .data(nodes)
      .enter().append('circle')
      .attr('class', 'node')

    force.on('end', function(){

      node.attr('r', width/25)
          .attr('cx', function(d) { return d.x; })
          .attr('cy', function(d) { return d.y; });


      link.attr('x1', function(d) { return d.source.x; })
        .attr('y1', function(d) { return d.source.y; })
        .attr('x2', function(d) { return d.target.x; })
        .attr('y2', function(d) { return d.target.y; });
    })

    force.start();

    </script>







  </body>
</html>
